(function($){Drupal.contextualLinks=Drupal.contextualLinks||{};Drupal.behaviors.contextualLinks={attach:function(context){$("div.contextual-links-wrapper",context).once("contextual-links",function(){var $wrapper=$(this);var $region=$wrapper.closest(".contextual-links-region");var $links=$wrapper.find("ul.contextual-links");var $trigger=$('<a class="contextual-links-trigger" href="#" />').text(Drupal.t("Configure")).click(function(){$links.stop(true,true).slideToggle(100);$wrapper.toggleClass("contextual-links-active");
return false});$trigger.add($links).hover(function(){$region.addClass("contextual-links-region-active")},function(){$region.removeClass("contextual-links-region-active")});$region.bind("mouseleave click",Drupal.contextualLinks.mouseleave);$region.hover(function(){$trigger.addClass("contextual-links-trigger-active")},function(){$trigger.removeClass("contextual-links-trigger-active")});$wrapper.prepend($trigger)})}};Drupal.contextualLinks.mouseleave=function(){$(this).find(".contextual-links-active").removeClass("contextual-links-active").find("ul.contextual-links").hide()}})(jQuery);;/**/
(function($){Drupal.ajax=Drupal.ajax||{};Drupal.behaviors.AJAX={attach:function(context,settings){for(var base in settings.ajax)if(!$("#"+base+".ajax-processed").length){var element_settings=settings.ajax[base];if(typeof element_settings.selector=="undefined")element_settings.selector="#"+base;$(element_settings.selector).each(function(){element_settings.element=this;Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)});$("#"+base).addClass("ajax-processed")}$(".use-ajax:not(.ajax-processed)").addClass("ajax-processed").each(function(){var element_settings=
{};element_settings.progress={"type":"throbber"};if($(this).attr("href")){element_settings.url=$(this).attr("href");element_settings.event="click"}var base=$(this).attr("id");Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)});$(".use-ajax-submit:not(.ajax-processed)").addClass("ajax-processed").each(function(){var element_settings={};element_settings.url=$(this.form).attr("action");element_settings.setClick=true;element_settings.event="click";element_settings.progress={"type":"throbber"};
var base=$(this).attr("id");Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)})}};Drupal.ajax=function(base,element,element_settings){var defaults={url:"system/ajax",event:"mousedown",keypress:true,selector:"#"+base,effect:"none",speed:"none",method:"replaceWith",progress:{type:"throbber",message:Drupal.t("Please wait...")},submit:{"js":true}};$.extend(this,defaults,element_settings);this.element=element;this.element_settings=element_settings;this.url=element_settings.url.replace(/\/nojs(\/|$|\?|&|#)/g,
"/ajax$1");this.wrapper="#"+element_settings.wrapper;if(this.element.form)this.form=$(this.element.form);var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function(element_settings,options){return ajax.beforeSerialize(element_settings,options)},beforeSubmit:function(form_values,element_settings,options){ajax.ajaxing=true;return ajax.beforeSubmit(form_values,element_settings,options)},beforeSend:function(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,
options)},success:function(response,status){if(typeof response=="string")response=$.parseJSON(response);return ajax.success(response,status)},complete:function(response,status){ajax.ajaxing=false;if(status=="error"||status=="parsererror")return ajax.error(response,ajax.url)},dataType:"json",type:"POST"};$(ajax.element).bind(element_settings.event,function(event){return ajax.eventResponse(this,event)});if(element_settings.keypress)$(ajax.element).keypress(function(event){return ajax.keypressResponse(this,
event)});if(element_settings.prevent)$(ajax.element).bind(element_settings.prevent,false)};Drupal.ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which==13||event.which==32&&element.type!="text"&&element.type!="textarea"){$(ajax.element_settings.element).trigger(ajax.element_settings.event);return false}};Drupal.ajax.prototype.eventResponse=function(element,event){var ajax=this;if(ajax.ajaxing)return false;try{if(ajax.form){if(ajax.setClick)element.form.clk=element;
ajax.form.ajaxSubmit(ajax.options)}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options)}}catch(e){ajax.ajaxing=false;alert("An error occurred while attempting to process "+ajax.options.url+": "+e.message)}if(typeof element.type!="undefined"&&(element.type=="checkbox"||element.type=="radio"))return true;else return false};Drupal.ajax.prototype.beforeSerialize=function(element,options){if(this.form){var settings=this.settings||Drupal.settings;Drupal.detachBehaviors(this.form,settings,
"serialize")}options.data["ajax_html_ids[]"]=[];$("[id]").each(function(){options.data["ajax_html_ids[]"].push(this.id)});options.data["ajax_page_state[theme]"]=Drupal.settings.ajaxPageState.theme;options.data["ajax_page_state[theme_token]"]=Drupal.settings.ajaxPageState.theme_token;for(var key in Drupal.settings.ajaxPageState.css)options.data["ajax_page_state[css]["+key+"]"]=1;for(var key in Drupal.settings.ajaxPageState.js)options.data["ajax_page_state[js]["+key+"]"]=1};Drupal.ajax.prototype.beforeSubmit=
function(form_values,element,options){};Drupal.ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload="1";var v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=Drupal.checkPlain(v)}$(this.element).addClass("progress-disabled").attr("disabled",true);if(this.progress.type=="bar"){var progressBar=new Drupal.progressBar("ajax-progress-"+this.element.id,eval(this.progress.update_callback),
this.progress.method,eval(this.progress.error_callback));if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(progressBar.element).addClass("ajax-progress ajax-progress-bar");this.progress.object=progressBar;$(this.element).after(this.progress.element)}else if(this.progress.type=="throbber"){this.progress.element=$('<div class="ajax-progress ajax-progress-throbber"><div class="throbber">&nbsp;</div></div>');
if(this.progress.message)$(".throbber",this.progress.element).after('<div class="message">'+this.progress.message+"</div>");$(this.element).after(this.progress.element)}};Drupal.ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).removeClass("progress-disabled").removeAttr("disabled");Drupal.freezeHeight();for(var i in response)if(response.hasOwnProperty(i)&&response[i]["command"]&&
this.commands[response[i]["command"]])this.commands[response[i]["command"]](this,response[i],status);if(this.form){var settings=this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings)}Drupal.unfreezeHeight();this.settings=null};Drupal.ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type=="none"){effect.showEffect="show";effect.hideEffect="hide";effect.showSpeed=""}else if(type=="fade"){effect.showEffect=
"fadeIn";effect.hideEffect="fadeOut";effect.showSpeed=speed}else{effect.showEffect=type+"Toggle";effect.hideEffect=type+"Toggle";effect.showSpeed=speed}return effect};Drupal.ajax.prototype.error=function(response,uri){alert(Drupal.ajaxError(response,uri));if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).removeClass("progress-disabled").removeAttr("disabled");if(this.form){var settings=response.settings||
this.settings||Drupal.settings;Drupal.attachBehaviors(this.form,settings)}};Drupal.ajax.prototype.commands={insert:function(ajax,response,status){var wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var new_content_wrapped=$("<div></div>").html(response.data);var new_content=new_content_wrapped.contents();if(new_content.length!=1||new_content.get(0).nodeType!=1)new_content=new_content_wrapped;switch(method){case "html":case "replaceWith":case "replaceAll":case "empty":case "remove":var settings=
response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors(wrapper,settings)}wrapper[method](new_content);if(effect.showEffect!="show")new_content.hide();if($(".ajax-new-content",new_content).length>0){$(".ajax-new-content",new_content).hide();new_content.show();$(".ajax-new-content",new_content)[effect.showEffect](effect.showSpeed)}else if(effect.showEffect!="show")new_content[effect.showEffect](effect.showSpeed);if(new_content.parents("html").length>0){var settings=response.settings||
ajax.settings||Drupal.settings;Drupal.attachBehaviors(new_content,settings)}},remove:function(ajax,response,status){var settings=response.settings||ajax.settings||Drupal.settings;Drupal.detachBehaviors($(response.selector),settings);$(response.selector).remove()},changed:function(ajax,response,status){if(!$(response.selector).hasClass("ajax-changed")){$(response.selector).addClass("ajax-changed");if(response.asterisk)$(response.selector).find(response.asterisk).append(' <span class="ajax-changed">*</span> ')}},
alert:function(ajax,response,status){alert(response.text,response.title)},css:function(ajax,response,status){$(response.selector).css(response.argument)},settings:function(ajax,response,status){if(response.merge)$.extend(true,Drupal.settings,response.settings);else ajax.settings=response.settings},data:function(ajax,response,status){$(response.selector).data(response.name,response.value)},invoke:function(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,
response.arguments)},restripe:function(ajax,response,status){$("> tbody > tr:visible, > tr:visible",$(response.selector)).removeClass("odd even").filter(":even").addClass("odd").end().filter(":odd").addClass("even")},add_css:function(ajax,response,status){$("head").prepend(response.data);var match,importMatch=/^@import url\("(.*)"\);$/igm;if(document.styleSheets[0].addImport&&importMatch.test(response.data)){importMatch.lastIndex=0;while(match=importMatch.exec(response.data))document.styleSheets[0].addImport(match[1])}},
updateBuildId:function(ajax,response,status){$('input[name="form_build_id"][value="'+response["old"]+'"]').val(response["new"])}}})(jQuery);;/**/
var contentanalysis=contentanalysis||{};
(function($,$$){$.extend($$,{contentanalysisPrevAnalyzerTab:"",contentanalysisPrevReportTab:"",contentanalysisCurrentAnalyzerTab:"",contentanalysisCurrentReportTab:"",contentanalysisReportActiveTab:{},init:function(){$$.contentanalysis_contentanalysisui()},contentanalysis_contentanalysisui:function(){if($("#modalContent div.analyzers h3.analyzer").size()>0){$$.contentanalysis_show_analyzer_tab($("div.analyzers h3.analyzer").get(0));$("div.analyzers h3.analyzer").mousedown(function(){$$.contentanalysis_show_analyzer_tab(this)});$("h3.contentanalysis-report-tab").mousedown(function(){$$.contentanalysis_show_report_tab(this)})}},
contentanalysis_back:function(){$$.contentanalysis_show_analyzer_tab(contentanalysisPrevAnalyzerTab)},contentanalysis_show_analyzer_tab:function(theTab){$("div.analysis-results div.analyzer-analysis:eq("+$(".analyzers h3.analyzer").index(theTab)+")").children(".content-analysis-tab:first").addClass("active");$("div.analysis-results div.analyzer-analysis").hide();$(".analyzers h3.analyzer").removeClass("active");$(theTab).addClass("active");$("div.analysis-results div.analyzer-analysis:eq("+$(".analyzers h3.analyzer").index(theTab)+
")").show();$(".content-analysis-results").hide();var id=$(theTab).attr("id");var e=id.split("-");var analyzer=e[3];if($$.contentanalysisReportActiveTab[analyzer])$$.contentanalysis_show_report_tab($("#contentanalysis-report-tab-"+analyzer+"-"+$$.contentanalysisReportActiveTab[analyzer]));else $$.contentanalysis_show_report_tab($("#contentanalysis-report-tab-"+analyzer+"-0"));$$.contentanalysisPrevAnalyzerTab=$$.contentanalysisCurrentAnalyzerTab;$$.contentanalysisCurrentAnalyzerTab=theTab},contentanalysis_show_report_tab:function(theTab){var id=
$(theTab).attr("id");var e=id.split("-");$$.contentanalysisReportActiveTab[e[3]]=e[4];$("h3.contentanalysis-report-tab").removeClass("active");$(theTab).addClass("active");$(".contentanalysis-results-section").hide();var tabs=$("#contentanalysis-report-tabs-"+e[3]);var pos=$("#contentanalysis-report-tabs-"+e[3]).position();var offset=$("#contentanalysis-report-tabs-"+e[3]).offset();var height=tabs.height();var top=pos.top+height+"px";var left=pos.left+"px";var sec_id=id.replace("tab","results");var result_id=
sec_id.replace("-"+e[4],"");$("#"+result_id).css("top",top);$("#"+sec_id).show();$$.contentanalysisPrevReportTab=$$.contentanalysisCurrentReportTab;$$.contentanalysisCurrentReportTab=theTab},contentanalysis_inline_analysis:function(){Drupal.settings.contentanalysis.display_dialog=0;Drupal.settings.contentanalysis.display_inline=1;$("#contentanalysis-buttons").after('<div class="ahah-progress ahah-progress-throbber"><div class="throbber">&nbsp;</div><div class="message">'+Drupal.t("Analyzing...")+
"</div></div>");$$.contentanalysis_analyze()},contentanalysis_dialog_analysis:function(){Drupal.settings.contentanalysis.display_dialog=1;Drupal.settings.contentanalysis.display_inline=0;$$.contentanalysis_analyze()},contentanalysis_full_analysis:function(){Drupal.settings.contentanalysis.display_dialog=1;Drupal.settings.contentanalysis.display_inline=1;$$.contentanalysis_analyze()},contentanalysis_refresh_analysis:function(analyzer){Drupal.settings.contentanalysis.display_dialog=0;Drupal.settings.contentanalysis.display_inline=
1;$(".contentanalysis-refresh-link-"+analyzer).replaceWith('<div class="ahah-progress ahah-progress-throbber"><div class="throbber">&nbsp;</div></div>');$$.contentanalysis_analyze(analyzer)},contentanalysis_analyze:function(analyzer_override){var data={"nid":-1,"node_type":-1,"source":-1,"analyzers":-1,"title":-1,"body":-1,"body_summary":-1,"page_title":-1,"meta_title":-1,"meta_keywords":-1,"meta_description":-1,"path_alias":-1,"path_pathauto":-1,"url":-1,"page":-1,"body_input_filter":-1,"hidden":-1,
"code":Drupal.settings.contentanalysis.code,"action":-1};if(analyzer_override)data.action="refresh";if($("#contentanalysis-page-analyzer-form").html()){data.source="admin-form";data.body=$("[name=input]").val();data.nid=$("[name=input_nid]").val();data.url=$("[name=input_url]").val();if(data.body=="")data.body=-1;if(data.nid=="")data.nid=-1;if(data.url=="")data.url=-1}else if($(".node-form").html()){data.source="node-edit-form";if(typeof tinyMCE=="object")tinyMCE.get("edit-body-und-0-value").hide();
var ckeditor=false;if($("#cke_edit-body-und-0-value").html()){$("#wysiwyg-toggle-edit-body-und-0-value").click();ckeditor=true}data.title=$("#edit-title").val();data.body=$("#edit-body-und-0-value").val();if($("#edit-body-und-0-summary").val()!=null)data.body_summary=$("#edit-body-und-0-summary").val();data.nid=Drupal.settings.contentanalysis.nid;data.node_type=Drupal.settings.contentanalysis.node_type;data.body_input_filter=$("select[name='body[und][0][format]'] option:selected").val();if($("#edit-page-title").val()!=
null)data.page_title=$("#edit-page-title").val();if($("#edit-metatags-title-value").val()!=null)data.meta_title=$("#edit-metatags-title-value").val();if($("#edit-metatags-keywords-value").val()!=null)data.meta_keywords=$("#edit-metatags-keywords-value").val();if($("#edit-metatags-description-value").val()!=null)data.meta_description=$("#edit-metatags-description-value").val();if($("#edit-path-alias").val()!=null){data.url=window.location.host+Drupal.settings.contentanalysis.base_path+$("#edit-path-alias").val();
data.path_alias=$("#edit-path-alias").val()}if($("input[name='path[pathauto]']:checked").val()!=null)data.path_pathauto=1;if(typeof tinyMCE=="object")tinyMCE.get("edit-body-und-0-value").show();if(ckeditor)$("#wysiwyg-toggle-edit-body-und-0-value").click()}else{data.source="page-link";data.page=$("html").html();data.url=window.location.href}if(Drupal.settings.contentanalysis.hidden!=null)data.hidden=Drupal.settings.contentanalysis.hidden;var analyzers_arr=new Array;if(analyzer_override){data.analyzers=
analyzer_override;analyzers_arr[0]=data.analyzers}else if($("#contentanalysis_analyzers_override input").val()!=null){data.analyzers=$("#contentanalysis_analyzers_override input").val();analyzers_arr[0]=data.analyzers}else{var i=0;$("#contentanalysis_analyzers .form-checkbox:checked").each(function(){var expr=new RegExp(/\[[^\]]+\]/);analyzers_arr[i]=expr.exec($(this).attr("name"))[0].replace("]","").replace("[","");i++});data.analyzers=analyzers_arr.join(",")}for(var i in analyzers_arr){var aid=
analyzers_arr[i];var module=Drupal.settings.contentanalysis.analyzer_modules[aid].module;if(eval("typeof "+module+'_contentanalysis_data == "function"')){d=eval(module+"_contentanalysis_data")(aid,data);for(var k in d)eval("data.ao_"+aid+"_"+k+' = "'+d[k]+'";')}}$("#contentanalysis-buttons").hide();$.ajax({type:"POST",url:Drupal.settings.contentanalysis.analyze_callback,data:data,dataType:"json",success:function(data,textStatus){analyzers_arr=data.inputs["analyzers"].split(",");if(Drupal.settings.contentanalysis.display_dialog==
1){$("#analysis-modal").append(data.main["output"]);$("#analysis-modal .progress").remove();$$.contentanalysis_contentanalysisui()}if(Drupal.settings.contentanalysis.display_inline==1){if(data.inputs["action"]=="refresh")for(i in analyzers_arr){aid=analyzers_arr[i];$(".contentanalysis-report-"+aid+"-page_title").replaceWith(data.page_title["output"]);$(".contentanalysis-report-"+aid+"-body").replaceWith(data.body["output"]);$(".contentanalysis-report-"+aid+"-meta_description").replaceWith(data.meta_description["output"]);
$(".contentanalysis-report-"+aid+"-meta_keywords").replaceWith(data.meta_keywords["output"])}else{var show_title=true;if($(".form-item-metatags-title-value").length>0){$(".form-item-metatags-title-value > .contentanalysis_section_analysis").remove();$(".form-item-metatags-title-value").append(data.page_title["output"]);if($("#edit-metatags-title-value").val()!=null){var meta_title=$("#edit-metatags-title-value").val();if(meta_title.indexOf("[node:title]")==-1);}}if(show_title){$(".form-item-title > .contentanalysis_section_analysis").remove();
$(".form-item-title").append(data.page_title["output"])}$("#edit-body > .contentanalysis_section_analysis").remove();$("#edit-body").append(data.body["output"]);if($(".form-item-metatags-description-value").length>0&&data.meta_description!=null){$(".form-item-metatags-description-value > .contentanalysis_section_analysis").remove();$(".form-item-metatags-description-value").append(data.meta_description["output"])}if($(".form-item-metatags-keywords-value").length>0&&data.meta_keywords!=null){$(".form-item-metatags-keywords-value > .contentanalysis_section_analysis").remove();
$(".form-item-metatags-keywords-value").append(data.meta_keywords["output"])}}for(var i in analyzers_arr){var aid=analyzers_arr[i];h='<a href="#" class="contentanalysis-refresh-link-'+aid+'" onclick="contentanalysis.contentanalysis_refresh_analysis(\''+aid+"'); return false;\">";h+='<img src="'+Drupal.settings.contentanalysis.path_to_module+'/icons/refresh.png" alt="refresh" />';h+="</a>";$(".contentanalysis-report-"+aid+" label").append(h)}}for(var i in analyzers_arr){var aid=analyzers_arr[i];var module=
Drupal.settings.contentanalysis.analyzer_modules[aid].module;if(eval("typeof "+module+'_contentanalysis_analysis_success == "function"'))eval(module+"_contentanalysis_analysis_success")(aid,data)}if(typeof Drupal.behaviors.collapse=="function")Drupal.behaviors.collapse();$(".ahah-progress-throbber").remove();$("#contentanalysis-buttons").show()},error:function(xhr,status){alert(xhr.responseText.toString());$(".ahah-progress-throbber").remove();$("#contentanalysis-buttons").show()}});return false}});
Drupal.behaviors.contentanalysisui={attach:function(context,settings){$$.init()}};Sliders={};Sliders.changeHandle=function(e,ui){var id=jQuery(ui.handle).parents("div.slider-widget-container").attr("id");if(typeof ui.values!="undefined")jQuery.each(ui.values,function(i,val){jQuery("#"+id+"_value_"+i).val(val);jQuery("#"+id+"_nr_"+i).text(val)});else{jQuery("#"+id+"_value_0").val(ui.value);jQuery("#"+id+"_nr_0").text(ui.value)}}})(jQuery,contentanalysis);;/**/
var contentoptimizer_contentanalysis_data=function(aid){data=new Array;data["keyword"]=document.getElementById("edit-seo-keyword").value;return data};;/**/
