/* Source and licensing information for the line(s) below can be found at http://www.tapanalytics.com/sites/all/modules/jquery_update/replace/misc/1.7/states.js. */
(function($){var states=Drupal.states={postponed:[]};Drupal.behaviors.states={attach:function(context,settings){for(var selector in settings.states)for(var state in settings.states[selector])new states.Dependent({element:$(selector),state:states.State.sanitize(state),dependees:settings.states[selector][state]});while(states.postponed.length)(states.postponed.shift())()}};states.Dependent=function(args){$.extend(this,{values:{},oldValue:undefined},args);for(var selector in this.dependees)this.initializeDependee(selector,this.dependees[selector])};states.Dependent.comparisons={RegExp:function(reference,value){return reference.test(value)},Function:function(reference,value){return reference(value)},Number:function(reference,value){return(value.constructor.name==='String')?compare(String(reference),value):compare(reference,value)}};states.Dependent.prototype={initializeDependee:function(selector,dependeeStates){var self=this;self.values[selector]={};$.each(dependeeStates,function(state,value){state=states.State.sanitize(state);self.values[selector][state.pristine]=undefined;$(selector).bind('state:'+state,function(e){var complies=self.compare(value,e.value);self.update(selector,state,complies)});new states.Trigger({selector:selector,state:state})})},compare:function(reference,value){if(reference.constructor.name in states.Dependent.comparisons){return states.Dependent.comparisons[reference.constructor.name](reference,value)}else return compare(reference,value)},update:function(selector,state,value){if(value!==this.values[selector][state.pristine]){this.values[selector][state.pristine]=value;this.reevaluate()}},reevaluate:function(){var value=undefined;for(var selector in this.values)for(var state in this.values[selector]){state=states.State.sanitize(state);var complies=this.values[selector][state.pristine];value=ternary(value,invert(complies,state.invert))};if(value!==this.oldValue){this.oldValue=value;value=invert(value,this.state.invert);this.element.trigger({type:'state:'+this.state,value:value,trigger:true})}}};states.Trigger=function(args){$.extend(this,args);if(this.state in states.Trigger.states){this.element=$(this.selector);if(!this.element.data('trigger:'+this.state))this.initialize()}};states.Trigger.prototype={initialize:function(){var self=this,trigger=states.Trigger.states[this.state];if(typeof trigger=='function'){trigger.call(window,this.element)}else $.each(trigger,function(event,valueFn){self.defaultTrigger(event,valueFn)});this.element.data('trigger:'+this.state,true)},defaultTrigger:function(event,valueFn){var self=this,oldValue=valueFn.call(this.element);this.element.bind(event,function(e){var value=valueFn.call(self.element,e);if(oldValue!==value){self.element.trigger({type:'state:'+self.state,value:value,oldValue:oldValue});oldValue=value}});states.postponed.push(function(){self.element.trigger({type:'state:'+self.state,value:oldValue,oldValue:undefined})})}};states.Trigger.states={empty:{keyup:function(){return this.val()==''}},checked:{change:function(){return this.prop('checked')}},value:{keyup:function(){if(this.length>1)return this.filter(':checked').val()||false;return this.val()},change:function(){if(this.length>1)return this.filter(':checked').val()||false;return this.val()}},collapsed:{collapsed:function(e){return(e!==undefined&&'value'in e)?e.value:this.is('.collapsed')}}};states.State=function(state){this.pristine=this.name=state;while(true){while(this.name.charAt(0)=='!'){this.name=this.name.substring(1);this.invert=!this.invert};if(this.name in states.State.aliases){this.name=states.State.aliases[this.name]}else break}};states.State.sanitize=function(state){if(state instanceof states.State){return state}else return new states.State(state)};states.State.aliases={enabled:'!disabled',invisible:'!visible',invalid:'!valid',untouched:'!touched',optional:'!required',filled:'!empty',unchecked:'!checked',irrelevant:'!relevant',expanded:'!collapsed',readwrite:'!readonly'};states.State.prototype={invert:false,toString:function(){return this.name}};{$(document).bind('state:disabled',function(e){if(e.trigger)$(e.target).attr('disabled',e.value).filter('.form-element').closest('.form-item, .form-submit, .form-wrapper')[e.value?'addClass':'removeClass']('form-disabled')});$(document).bind('state:required',function(e){if(e.trigger)if(e.value){$(e.target).closest('.form-item, .form-wrapper').find('label').append('<span class="form-required">*</span>')}else $(e.target).closest('.form-item, .form-wrapper').find('label .form-required').remove()});$(document).bind('state:visible',function(e){if(e.trigger)$(e.target).closest('.form-item, .form-submit, .form-wrapper')[e.value?'show':'hide']()});$(document).bind('state:checked',function(e){if(e.trigger)$(e.target).prop('checked',e.value)});$(document).bind('state:collapsed',function(e){if(e.trigger)if($(e.target).is('.collapsed')!==e.value)$('> legend a',e.target).click()})};{function ternary(a,b){return a===undefined?b:(b===undefined?a:a&&b)};function invert(a,invert){return(invert&&a!==undefined)?!a:a};function compare(a,b){return(a===b)?(a===undefined?a:true):(a===undefined||b===undefined)}}})(jQuery);;
/* Source and licensing information for the above line(s) can be found at http://www.tapanalytics.com/sites/all/modules/jquery_update/replace/misc/1.7/states.js. */
(function($){$.fn.drupalGetSummary=function(){var callback=this.data("summaryCallback");return this[0]&&callback?$.trim(callback(this[0])):""};$.fn.drupalSetSummary=function(callback){var self=this;if(typeof callback!="function"){var val=callback;callback=function(){return val}}return this.data("summaryCallback",callback).unbind("formUpdated.summary").bind("formUpdated.summary",function(){self.trigger("summaryUpdated")}).trigger("summaryUpdated")};Drupal.behaviors.formUpdated={attach:function(context){var events=
"change.formUpdated click.formUpdated blur.formUpdated keyup.formUpdated";$(context).find(":input").andSelf().filter(":input").unbind(events).bind(events,function(){$(this).trigger("formUpdated")})}};Drupal.behaviors.fillUserInfoFromCookie={attach:function(context,settings){$("form.user-info-from-cookie").once("user-info-from-cookie",function(){var formContext=this;$.each(["name","mail","homepage"],function(){var $element=$("[name="+this+"]",formContext);var cookie=$.cookie("Drupal.visitor."+this);
if($element.length&&cookie)$element.val(cookie)})})}}})(jQuery);;/**/
